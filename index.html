import React, { useState, useEffect } from 'react';
import { BookOpen, GraduationCap, Mail, Github, Linkedin, ExternalLink, Menu, X, Award, FileText, Code } from 'lucide-react';

/**
 * ğŸ“ ê°œì¸ í•™ìˆ  í¬íŠ¸í´ë¦¬ì˜¤ ë°ì´í„° (PERSONAL DATA)
 * í•œì‹ ëŒ€í•™êµ AI/SW ì „ê³µìƒì„ ìœ„í•œ ë§ì¶¤í˜• ë°ì´í„°ì…ë‹ˆë‹¤.
 */
const portfolioData = {
  profile: {
    name: "ì¡°ì¬í˜„ (Jaehyeon Jo)",
    title: "Undergraduate Student in AI/SW",
    university: "Hanshin University (í•œì‹ ëŒ€í•™êµ)",
    email: "sinabrocjh@hs.ac.kr",
    github: "https://github.com",
    linkedin: "https://linkedin.com",
    bio: "í˜„ì¬ í•œì‹ ëŒ€í•™êµì—ì„œ AI/SW(ì¸ê³µì§€ëŠ¥Â·ì†Œí”„íŠ¸ì›¨ì–´)ë¥¼ ì¤‘ì ì ìœ¼ë¡œ í•™ìŠµí•˜ê³  ìˆìŠµë‹ˆë‹¤. ë°ì´í„° ê¸°ë°˜ì˜ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ê³¼ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì— ê¹Šì€ ê´€ì‹¬ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ìµœì‹  AI ê¸°ìˆ ì„ ì‹¤ë¬´ì— ì ìš©í•˜ëŠ” í’€ìŠ¤íƒ ì—”ì§€ë‹ˆì–´ë¥¼ ëª©í‘œë¡œ ì„±ì¥ ì¤‘ì…ë‹ˆë‹¤.",
    interests: ["Artificial Intelligence", "Software Engineering", "Web Development", "Data Science"]
  },
  education: [
    {
      degree: "B.S. in AI & Software",
      school: "Hanshin University (í•œì‹ ëŒ€í•™êµ)",
      year: "2025",
      description: "AI/SW ëŒ€í•™ ì†Œì†. ì£¼ìš” ìˆ˜ê°•: ê¸°ê³„í•™ìŠµ, ë”¥ëŸ¬ë‹, ì›¹í”„ë¡œê·¸ë˜ë°, ì•Œê³ ë¦¬ì¦˜."
    },
    {
      degree: "High School Diploma",
      school: "Hanshin High School",
      year: "2019 - 2022",
      description: "Graduated with honors in Science & Math track."
    }
  ],
  publications: [
    {
      title: "Undergraduate Research: AI Chatbot for Campus Guide",
      authors: "Jaehyeon Jo, Team Alpha",
      venue: "Hanshin AI/SW Capstone Design Fair",
      year: "2024",
      link: "#",
      tag: "Project"
    },
    {
      title: "Comparative Study of CNN Models for Hangul Recognition",
      authors: "Jaehyeon Jo",
      venue: "Student Tech Seminar",
      year: "2023",
      link: "#",
      tag: "Research"
    }
  ],
  projects: [
    {
      title: "HSU Smart Cafeteria",
      description: "í•œì‹ ëŒ€í•™êµ í•™ìƒ ì‹ë‹¹ì˜ ë©”ë‰´ë¥¼ ì¶”ì²œí•˜ê³  í˜¼ì¡ë„ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤. React í”„ë¡ íŠ¸ì—”ë“œì™€ Python Django ë°±ì—”ë“œ í™œìš©.",
      tech: ["React", "Django", "TensorFlow"],
      link: "#"
    },
    {
      title: "AI Study Mate",
      description: "í•™ìŠµ ìŠµê´€ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• ìŠ¤í„°ë”” ìŠ¤ì¼€ì¤„ì„ ì œì•ˆí•˜ëŠ” ëª¨ë°”ì¼ ì•± í”„ë¡œì íŠ¸.",
      tech: ["Flutter", "Firebase", "Scikit-learn"],
      link: "#"
    }
  ]
};

// --- ì»´í¬ë„ŒíŠ¸ ì‹œì‘ ---

const SectionTitle = ({ children, icon: Icon }) => (
  <div className="flex items-center gap-2 mb-6 border-b pb-2 border-slate-200">
    {Icon && <Icon className="w-6 h-6 text-blue-600" />}
    <h2 className="text-2xl font-bold text-slate-800">{children}</h2>
  </div>
);

const Card = ({ children, className = "" }) => (
  <div className={`bg-white p-6 rounded-lg shadow-sm border border-slate-100 hover:shadow-md transition-shadow duration-200 ${className}`}>
    {children}
  </div>
);

const Badge = ({ children }) => (
  <span className="px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded-md border border-blue-100">
    {children}
  </span>
);

export default function App() {
  const [activeSection, setActiveSection] = useState('home');
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  // ìŠ¤í¬ë¡¤ ì‹œ ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ì²˜ë¦¬
  useEffect(() => {
    const handleScroll = () => {
      const sections = ['home', 'education', 'publications', 'projects', 'contact'];
      for (const section of sections) {
        const element = document.getElementById(section);
        if (element) {
          const rect = element.getBoundingClientRect();
          if (rect.top >= 0 && rect.top <= 300) {
            setActiveSection(section);
            break;
          }
        }
      }
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (id) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
      setActiveSection(id);
      setIsMenuOpen(false);
    }
  };

  const navItems = [
    { id: 'home', label: 'Home' },
    { id: 'education', label: 'Education' },
    { id: 'publications', label: 'Publications' },
    { id: 'projects', label: 'Projects' },
    { id: 'contact', label: 'Contact' },
  ];

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-600">
      {/* ë„¤ë¹„ê²Œì´ì…˜ ë°” */}
      <nav className="fixed top-0 w-full bg-white/90 backdrop-blur-sm border-b border-slate-200 z-50 shadow-sm">
        <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between h-16 items-center">
            <div className="flex-shrink-0 font-bold text-xl text-slate-800 cursor-pointer" onClick={() => scrollToSection('home')}>
              {portfolioData.profile.name}
            </div>
            
            {/* ë°ìŠ¤í¬íƒ‘ ë©”ë‰´ */}
            <div className="hidden md:flex space-x-8">
              {navItems.map((item) => (
                <button
                  key={item.id}
                  onClick={() => scrollToSection(item.id)}
                  className={`text-sm font-medium transition-colors duration-200 ${
                    activeSection === item.id ? 'text-blue-600' : 'text-slate-500 hover:text-slate-900'
                  }`}
                >
                  {item.label}
                </button>
              ))}
            </div>

            {/* ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ */}
            <div className="md:hidden">
              <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="p-2 text-slate-500 hover:text-slate-900">
                {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
              </button>
            </div>
          </div>
        </div>

        {/* ëª¨ë°”ì¼ ë©”ë‰´ ë“œë¡­ë‹¤ìš´ */}
        {isMenuOpen && (
          <div className="md:hidden bg-white border-t border-slate-100">
            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
              {navItems.map((item) => (
                <button
                  key={item.id}
                  onClick={() => scrollToSection(item.id)}
                  className="block w-full text-left px-3 py-2 text-base font-medium text-slate-600 hover:text-blue-600 hover:bg-slate-50 rounded-md"
                >
                  {item.label}
                </button>
              ))}
            </div>
          </div>
        )}
      </nav>

      {/* ë©”ì¸ ì½˜í…ì¸  ì»¨í…Œì´ë„ˆ */}
      <main className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-20 space-y-24">

        {/* Home / Hero Section */}
        <section id="home" className="flex flex-col md:flex-row gap-8 items-center md:items-start pt-10 animate-fade-in">
          <div className="flex-1 space-y-6 text-center md:text-left">
            <div>
              <h1 className="text-4xl sm:text-5xl font-extrabold text-slate-900 tracking-tight mb-2">
                {portfolioData.profile.name}
              </h1>
              <p className="text-xl text-blue-600 font-medium">{portfolioData.profile.title}</p>
              <p className="text-lg text-slate-500">{portfolioData.profile.university}</p>
            </div>
            
            <p className="text-lg leading-relaxed text-slate-600">
              {portfolioData.profile.bio}
            </p>

            <div className="flex flex-wrap gap-2 justify-center md:justify-start">
              {portfolioData.profile.interests.map((interest, idx) => (
                <Badge key={idx}>{interest}</Badge>
              ))}
            </div>

            <div className="flex gap-4 justify-center md:justify-start pt-4">
              <a href={`mailto:${portfolioData.profile.email}`} className="flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-md hover:bg-slate-800 transition-colors">
                <Mail size={18} /> Contact Me
              </a>
              <a href={portfolioData.profile.github} target="_blank" rel="noreferrer" className="p-2 text-slate-500 hover:text-slate-900 border border-slate-200 rounded-md hover:border-slate-400 transition-colors">
                <Github size={20} />
              </a>
              <a href={portfolioData.profile.linkedin} target="_blank" rel="noreferrer" className="p-2 text-slate-500 hover:text-slate-900 border border-slate-200 rounded-md hover:border-slate-400 transition-colors">
                <Linkedin size={20} />
              </a>
            </div>
          </div>
          
          {/* í”„ë¡œí•„ ì´ë¯¸ì§€ (ë…¸íŠ¸ë¶/ì½”ë”© í…Œë§ˆ) */}
          <div className="w-48 h-48 md:w-64 md:h-64 flex-shrink-0 bg-slate-200 rounded-full flex items-center justify-center overflow-hidden border-4 border-white shadow-lg relative">
             <img 
               src="https://images.unsplash.com/photo-1496171367470-9ed9a91ea931?auto=format&fit=crop&w=600&q=80" 
               alt="Working on Laptop" 
               className="w-full h-full object-cover"
             />
          </div>
        </section>

        {/* Education Section */}
        <section id="education" className="scroll-mt-24">
          <SectionTitle icon={GraduationCap}>Education</SectionTitle>
          <div className="space-y-4">
            {portfolioData.education.map((edu, index) => (
              <div key={index} className="flex flex-col md:flex-row md:items-start justify-between p-4 rounded-lg hover:bg-white hover:shadow-sm transition-all border-l-4 border-transparent hover:border-blue-500">
                <div className="flex-1">
                  <h3 className="text-lg font-bold text-slate-800">{edu.school}</h3>
                  <p className="text-blue-600 font-medium">{edu.degree}</p>
                  <p className="text-slate-500 text-sm mt-1">{edu.description}</p>
                </div>
                <div className="mt-2 md:mt-0 md:text-right">
                  <span className="inline-block px-3 py-1 bg-slate-100 text-slate-600 text-xs font-semibold rounded-full">
                    {edu.year}
                  </span>
                </div>
              </div>
            ))}
          </div>
        </section>

        {/* Publications Section */}
        <section id="publications" className="scroll-mt-24">
          <SectionTitle icon={BookOpen}>Publications & Presentations</SectionTitle>
          <div className="grid gap-4">
            {portfolioData.publications.map((pub, index) => (
              <Card key={index} className="flex flex-col gap-2">
                <div className="flex justify-between items-start">
                  <h3 className="text-lg font-bold text-slate-800 leading-snug hover:text-blue-600 transition-colors cursor-pointer">
                    {pub.title}
                  </h3>
                  <span className={`text-xs px-2 py-0.5 rounded font-bold ${pub.tag === 'Research' ? 'bg-purple-100 text-purple-700' : 'bg-green-100 text-green-700'}`}>
                    {pub.tag}
                  </span>
                </div>
                <p className="text-slate-600">{pub.authors}</p>
                <div className="flex items-center justify-between mt-2 text-sm text-slate-500">
                  <span className="italic">{pub.venue}, {pub.year}</span>
                  <a href={pub.link} className="flex items-center gap-1 text-blue-600 hover:underline">
                    <FileText size={14} /> PDF
                  </a>
                </div>
              </Card>
            ))}
          </div>
        </section>

        {/* Projects Section */}
        <section id="projects" className="scroll-mt-24">
          <SectionTitle icon={Code}>Projects</SectionTitle>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            {portfolioData.projects.map((project, index) => (
              <Card key={index} className="flex flex-col h-full">
                <div className="flex items-center justify-between mb-2">
                  <h3 className="text-lg font-bold text-slate-800">{project.title}</h3>
                  <a href={project.link} className="text-slate-400 hover:text-blue-600">
                    <ExternalLink size={18} />
                  </a>
                </div>
                <p className="text-slate-600 text-sm mb-4 flex-grow">
                  {project.description}
                </p>
                <div className="flex flex-wrap gap-2 mt-auto">
                  {project.tech.map((t, i) => (
                    <span key={i} className="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded">
                      {t}
                    </span>
                  ))}
                </div>
              </Card>
            ))}
          </div>
        </section>

        {/* Contact Section */}
        <section id="contact" className="scroll-mt-24 mb-12">
          <SectionTitle icon={Mail}>Get In Touch</SectionTitle>
          <div className="bg-slate-900 text-slate-300 rounded-2xl p-8 text-center md:text-left flex flex-col md:flex-row items-center justify-between gap-6">
            <div>
              <h3 className="text-2xl font-bold text-white mb-2">ê´€ì‹¬ì‚¬ê°€ ë¹„ìŠ·í•˜ì‹ ê°€ìš”?</h3>
              <p className="mb-4">ì—°êµ¬ í˜‘ì—…ì´ë‚˜ í”„ë¡œì íŠ¸ ì œì•ˆì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤.</p>
              <div className="flex flex-col gap-2">
                <a href={`mailto:${portfolioData.profile.email}`} className="text-blue-400 hover:text-blue-300 font-medium text-lg">
                  {portfolioData.profile.email}
                </a>
                <p className="text-sm text-slate-500">
                  í•œì‹ ëŒ€í•™êµ
                </p>
              </div>
            </div>
            <a 
              href={`mailto:${portfolioData.profile.email}`}
              className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-lg"
            >
              Contact Me
            </a>
          </div>
        </section>

      </main>

      {/* Footer */}
      <footer className="bg-white border-t border-slate-200 py-8">
        <div className="max-w-4xl mx-auto px-4 text-center text-slate-500 text-sm">
          <p>&copy; {new Date().getFullYear()} {portfolioData.profile.name}. All rights reserved.</p>
          <p className="mt-1">Built with React & Tailwind CSS</p>
        </div>
      </footer>
    </div>
  );
}